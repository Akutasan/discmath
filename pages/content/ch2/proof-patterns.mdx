import { Callout, Tabs } from 'nextra/components'
import Problem from '@/components/problem';

# Proof Patterns

See the definition of the proof patterns in the script (Chapter 2.6). Here are some exercises about proof patterns (and basic set theory).

## Direct implication / Composition of Implications

<Problem title="The Subset-Relation is transitive" source="Lemma 3.3">
    <div label="question">
        Prove that for any sets $A$, $B$ and $C$:
        $$
            A \subseteq B \land B \subseteq C \Longrightarrow A \subseteq C
        $$
        Prove it using a composition of implications (or a direct proof of an implication).
    </div>
    <div label="hint">
        Recall the definition of $A \subseteq B$:
        $$
            A \subseteq B \overset{def.}{\Longleftrightarrow} \forall x (x \in A \to x \in B)
        $$
    </div>
    <div label="hint">
        The following equivalence (Chapter 2.4.8) _may_ be useful:
        $$
            \left( \forall x P(x) \right) \land \left( \forall x Q(x) \right) \equiv \forall x \left( P(x) \land Q(x) \right)
        $$
    </div>
    <div label="answer">
        $$
            \begin{aligned}
                & A \subseteq B \land B \subseteq C \\
                \dot\iff & \left( \forall x (x \in A \to x \in B) \right) \land \left( \forall x (x \in B \to x \in C) \right) && \text{Def. $A \subseteq B$} \\
                \dot\iff & \forall x \left( (x \in A \to x \in B) \land (x \in B \to x \in C) \right) && \left( \forall x P(x) \right) \land \left( \forall x Q(x) \right) \equiv \forall x \left( P(x) \land Q(x) \right) \\
                \dot\implies & \forall x (x \in A \to x \in C) && \text{Example 2.13} \\
                \dot\iff & A \subseteq C && \text{Def. $A \subseteq B$}
            \end{aligned}
        $$
    </div>
</Problem>

As an exercise, you can also (easily) prove the above statement with an indirect proof.

<Problem title="Simple Fact about Subsets/Intersections" source="Max Obreiter">
    <div label="question">
        Using composition of implications, prove the following fact:
        $$
            A \cap B \subseteq A
        $$
    </div>
    <div label="hint">
        To prove that $A \cap B$ is a subset of $A$, show that any (fixed) element $x$ in $A \cap B$ is also in $A$.
    </div>
    <div label="answer">
        Let $x \in (A \cap B)$ be fixed:
        $$
            \begin{aligned}
                & x \in (A \cap B) \\
                \dot\iff & x \in A \land x \in B && \text{Def. $A \cap B$} \\
                \dot\implies & x \in A && A \land B \models A
            \end{aligned}
        $$
    </div>
    <div label="takeaway">
        To show $A \subseteq B$, it is sometimes easier to show that any fixed $x \in A$ is also in $B$!
    </div>
</Problem>

## Indirect Proof of an Implication

To show that $S \implies T$ holds, we show that $\text{not } T \implies \text{not } S$.

<Problem title="Consistency 1" source="Theorem 3.4/Consistency.1">
    <div label="question">
        Prove that for any sets $A$ and $B$:
        $$
            A \subseteq B \Longrightarrow A \cap B = A
        $$
        Prove it using an indirect proof.
    </div>
    <div label="hint">
        To prove it indirectly, you have to prove:
        $$
            A \cap B \ne A \Longrightarrow A \not\subseteq B
        $$
    </div>
    <div label="hint">
        Use the fact that $A \cap B \subseteq A$ (see the previous exercise). This means that $A \cap B \ne A$ implies that there is an element in $A$ that is not in $A \cap B$.
    </div>
    <div label="hint">
        If you get stuck, try working from both ends. Start from $A \cap B \ne A$ and move forward, but also work backward from the conclusion $A \not\subseteq B$, since you already know it is true (if not convice yourself with Venn-Diagrams!).
    </div>
    <div label="answer">
        $$
            \begin{aligned}
                & A \cap B \ne A \\
                \dot\implies & \exists x \left( (x \in A \land \lnot (x \in (A \cap B))) \right) && \text{See Hint 2} \\
                \dot\iff & \exists x \left( (x \in A \land \lnot (x \in A \land x \in B)) \right) && \text{Def. $A \cap B$} \\
                \dot\iff & \exists x \left( (x \in A \land (\lnot (x \in A) \lor \lnot (x \in B))) \right) && \text{De-Morgan's Rule} \\
                \dot\iff & \exists x \left( (x \in A \land \lnot(x \in A)) \lor \exists x (x \in A \land \lnot (x \in B)) \right) && \text{Distributive Law} \\
                \dot\iff & \exists x \left( \bot \lor \exists x (x \in A \land \lnot (x \in B)) \right) && F \land \lnot F \equiv \bot \\
                \dot\iff & \exists x (x \in A \land \lnot (x \in B)) && \bot \lor F \equiv F \\
                \dot\iff & \exists x (\lnot(\lnot(x \in A)) \land \lnot(x \in B)) && \text{Double Negation}^1 \\
                \dot\iff & \exists x \lnot (\lnot (x \in A) \lor x \in B) && \text{De-Morgan's Rule} \\
                \dot\iff & \exists x \lnot (x \in A \to x \in B) && \text{Def. $\to$} \\
                \dot\iff & \lnot \left( \forall x (x \in A \to x \in B) \right) && \lnot (\forall x P(x)) \equiv \exists x (\lnot P(x)) \\
                \dot\iff & \lnot (A \subseteq B) && \text{Def. $A \subseteq B$} \\
            \end{aligned}
        $$
        $^1$: Starting from there it is probably easier to work backwards, i.e. starting at $A \not\subseteq B$.
    </div>
</Problem>

## Proof by Counterexample
This is a very simple proof pattern. You just have to find a counterexample to show that a statement is false.

<Problem title="Proof by Counterexample: Example" source="Lemma 2.4 reversed">
    <div label="question">
        Show that the following implication ***does not*** hold for all formulas $F, G$:
        $$
            (F\text{ is valid} \Longrightarrow G\text{ is valid}) \Longrightarrow (F \models G)
        $$
    </div>
    <div label="hint">
        Find a counterexample, i.e. find formulas $F, G$, such that:
        $$
            F\text{ is valid} \Longrightarrow G\text{ is valid}
        $$
        but $F \not\models G$.
    </div>
    <div label="hint">
        If $G$ is valid, then $F \models G$ holds for all $F$ (that's also why we write $\models G$ if $G$ is a tautology).
    </div>
    <div label="hint">
        So we need to find two formulas $F, G$ which are not tautologies, but $F \not\models G$ ...
    </div>
    <div label="answer">
        There are many counterexamples, one of them is:
        $$
            F = A, G = A \land B
        $$
        ---

        Both formulas are not tautologies, but $F \models G$ does not hold:

        |$A$|$B$|$A$|$A \land B$|
        |---|---|---|---|
        |$0$|$0$|$0$|$0$|
        |$0$|$1$|$0$|$0$|
        |$1$|$0$|$1$|$0$|
        |$1$|$1$|$1$|$1$|

        The third row shows that $F \models G$ does not hold.
    </div>
</Problem>

## Existence Proof
A special type of an existence proof is the proof by Counterexample; to show that $F$ is not true, we show that "not $F$" is true for some input.

## Proof by Case Distinction
An example for a proof by case distinction are truth tables; to show that $F \equiv G$, we show that for all possible inputs, the output value of $F$ and $G$ are equivalent.

